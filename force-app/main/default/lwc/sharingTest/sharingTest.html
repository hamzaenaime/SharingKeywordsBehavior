<!-- sharingTest.html -->
<template>
    <div class="slds-card slds-p-around_medium">
        <div class="slds-text-heading_medium slds-p-bottom_medium">
            Sharing Behavior Test Tool Using LWC
        </div>
        
        <div class="slds-form-element">
            <label class="slds-form-element__label">Base Class</label>
            <div class="slds-form-element__control">
                <div class="slds-select_container">
                    <select class="slds-select" onchange={handleBaseClassChange}>
                        <option value="">Select Base Class</option>
                        <option value="Default">Default Access</option>
                        <option value="WithSharing">With Sharing</option>
                        <option value="WithoutSharing">Without Sharing</option>
                        <option value="InheritedSharing">Inherited Sharing</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="slds-form-element slds-p-top_medium">
            <label class="slds-form-element__label">Child Class</label>
            <div class="slds-form-element__control">
                <div class="slds-select_container">
                    <select class="slds-select" onchange={handleChildClassChange}>
                        <option value="">Select Child Class</option>
                        <option value="DefaultChild">Default Child</option>
                        <option value="WithSharingChild">With Sharing Child</option>
                        <option value="WithoutSharingChild">Without Sharing Child</option>
                        <option value="InheritedSharingChild">Inherited Sharing Child</option>
                    </select>
                </div>
            </div>
        </div>
        
        <div class="slds-form-element slds-p-top_medium">
            <label class="slds-form-element__label">Nested Class</label>
            <div class="slds-form-element__control">
                <div class="slds-select_container">
                    <select class="slds-select" onchange={handleNestedClassChange}>
                        <option value="">Select Nested Class</option>
                        <option value="Default">Default Nested</option>
                        <option value="WithSharing">With Sharing Nested</option>
                        <option value="WithoutSharing">Without Sharing Nested</option>
                        <option value="InheritedSharing">Inherited Sharing Nested</option>
                    </select>
                </div>
            </div>
        </div>
        
        <div class="slds-p-top_medium">
            <lightning-button 
                label="Test Sharing" 
                onclick={handleTestSharing}
                variant="brand"
                disabled={isButtonDisabled}>
            </lightning-button>
        </div>
        
        <template if:true={isLoading}>
            <div class="slds-p-top_medium">
                <lightning-spinner alternative-text="Loading" size="small"></lightning-spinner>
            </div>
        </template>
        
        <template if:true={results.length}>
            <div class="slds-p-top_medium">
                <div class="slds-text-heading_small slds-p-bottom_small">
                    Results: {results.length} opportunies retrieved
                </div>
                <lightning-datatable
                    key-field="id"
                    data={results}
                    columns={columns}
                    hide-checkbox-column>
                </lightning-datatable>
            </div>
        </template>
        
        <template if:true={error}>
            <div class="slds-p-top_medium">
                <div class="slds-notify slds-notify_alert slds-alert_error">
                    {error}
                </div>
            </div>
        </template>
    </div>
</template>